import{q as x,c as n,d as i,e as t,s as u,u as c,T as y,i as f,B as k,C as v,D as w,t as g,f as h,l as d,A as _,z as m}from"./index-BD5rd33S.js";const T=x("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),V={class:"min-h-screen bg-gray-100 dark:bg-gray-900 flex flex-col items-center justify-center px-4"},B={class:"w-full max-w-sm"},N={class:"flex items-center justify-center gap-2 mb-8 text-gray-600 dark:text-gray-400"},A={class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-8"},D={class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6 flex items-center gap-2"},L={key:0,class:"text-sm text-red-600 dark:text-red-400"},M=["disabled"],C={__name:"AdminLogin",setup(j){const p=_(),o=d(""),a=d(""),r=d(!1);async function b(){a.value="";const l=o.value.trim();if(!l){a.value="请输入密码";return}r.value=!0;try{const s=(await m.login(l)).data?.token;s?(m.setToken(s),p.replace("/admin/articles")):a.value="登录失败"}catch(e){a.value=e?.response?.data?.error||e?.message||"登录失败"}finally{r.value=!1}}return(l,e)=>(n(),i("div",V,[t("div",B,[t("div",N,[u(c(y),{class:"w-8 h-8 text-blue-600 dark:text-blue-400"}),e[1]||(e[1]=t("span",{class:"text-xl font-bold text-gray-900 dark:text-gray-100"},"TechFlow 管理后台",-1))]),t("div",A,[t("h1",D,[u(c(T),{class:"w-5 h-5"}),e[2]||(e[2]=f(" 管理员登录 ",-1))]),t("form",{onSubmit:k(b,["prevent"]),class:"space-y-4"},[t("div",null,[e[3]||(e[3]=t("label",{for:"admin-password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"密码",-1)),v(t("input",{id:"admin-password","onUpdate:modelValue":e[0]||(e[0]=s=>o.value=s),type:"password",autocomplete:"current-password",class:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"请输入管理员密码"},null,512),[[w,o.value]])]),a.value?(n(),i("p",L,g(a.value),1)):h("",!0),t("button",{type:"submit",disabled:r.value,class:"w-full py-2.5 px-4 bg-blue-600 dark:bg-blue-500 hover:bg-blue-700 dark:hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium rounded-lg transition"},g(r.value?"登录中…":"登录"),9,M)],32)]),e[4]||(e[4]=t("p",{class:"mt-6 text-center text-sm text-gray-500 dark:text-gray-400"}," 仅网站管理员可访问，入口不对外公开。 ",-1))])]))}};export{C as default};
